<!DOCTYPE html>
<html>
<head>
    <title>Websocket Chat</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.js"></script>

    <script src="chat.js"></script>
</head>
<body onbeforeunload="disconnect($('#usernameField'))">

<div id="initContainer" class="container form-horizontal">
    <h1>Chat-Teilnahme</h1>
    <div class="well well-lg">
        <div class="form-group">
            <label class="col-sm-2 control-label" for="usernameField">Benutzername</label>
            <div class="col-sm-10">
                <input class="form-control" id="usernameField" placeholder="Bitte Benutzername eingeben"
                       onkeypress="if (event.keyCode == 13) $('#connectButton').click();" autofocus>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-10 col-sm-offset-2">
                <input class="btn btn-primary" id="connectButton" type="submit" value="Jetzt Teilnehmen!" onclick="connect($('#usernameField'), $('#chatField'), $('#userField'))">
            </div>
        </div>
    </div>
</div>

<div id="chatContainer" class="container form-horizontal">
    <h1>Chat</h1>
    <div class="well well-lg">
        <div class="form-group">
            <div class="col-sm-8 col-sm-offset-1">
                <textarea class="form-control" id="chatField" readonly="true" rows="10"></textarea>
            </div>
            <div class="col-sm-3">
                <textarea class="form-control" id="userField" readonly="true" rows="10"></textarea>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-1 control-label" for="messageField">&gt; </label>
            <div class="col-sm-11">
                <input type="username" class="form-control" id="messageField" placeholder="Chatnachricht" onkeypress="sendMessage(event, $('#usernameField'), $(this))">
            </div>
        </div>
    </div>
</div>

</body>
</html>